PATHS = [
	# path 1
	[[39, 37, 33, 26, 22, 20, 20, 21, 21, 26, 44, 55, 68, 84, 93, 98, 122, 127, 138, 139, 142, 145, 147, 147, 148, 150, 150],
	 [92, 90, 85, 78, 74, 66, 61, 56, 47, 43, 39, 37, 35, 33, 33, 32, 32, 31, 31, 32, 34, 36, 38, 40, 41, 44, 47]],
	# path 2
	[[151],
	 [44]],
	# path 3
	[[36, 37, 40, 44, 70, 85, 98, 102, 103, 104, 108, 113, 122, 127, 138],
	 [54, 50, 47, 43, 39, 37, 37, 36, 37, 36, 37, 36, 36, 35, 35]],
	# path 4
	[[82, 77, 76, 75, 76],
	 [41, 43, 44, 43, 43]],
	# path 5
	[[139, 140, 140, 144],
	 [50, 49, 46, 42]],
	# path 6
	[[141, 142, 145, 146, 151, 154, 156, 158, 157, 156, 155, 153, 151, 140],
	 [103, 102, 101, 98, 94, 93, 90, 77, 72, 71, 68, 66, 63, 51]],
	# path 7
	[[29, 40],
	 [46, 44]],
	# path 8
	[[86, 91, 93, 95],
	 [45, 44, 45, 44]],
	# path 9
	[[89, 91, 93, 96, 109, 116, 121, 126, 128, 131, 135, 135, 137],
	 [49, 48, 49, 47, 45, 46, 45, 45, 46, 45, 46, 48, 49]],
	# path 10
	[[176, 177, 177, 179, 181, 182, 181, 180, 179, 178, 177, 173, 170, 166, 161, 160, 158, 155],
	 [84, 94, 99, 106, 106, 101, 91, 84, 83, 80, 79, 74, 63, 59, 53, 50, 48, 45]],
	# path 11
	[[25, 25, 24, 25],
	 [54, 52, 51, 47]],
	# path 12
	[[88, 83, 83, 82],
	 [47, 49, 52, 53]],
	# path 13
	[[144, 145],
	 [47, 48]],
	# path 14
	[[147, 150, 152],
	 [48, 55, 57]],
	# path 15
	[[149],
	 [56]],
	# path 16
	[[29, 30, 29, 27, 25, 24, 25, 26],
	 [56, 54, 53, 56, 62, 69, 74, 74]],
	# path 17
	[[31, 30, 31],
	 [50, 52, 53]],
	# path 18
	[[105, 100, 96],
	 [50, 52, 55]],
	# path 19
	[[99],
	 [52]],
	# path 20
	[[33, 34],
	 [53, 53]],
	# path 21
	[[101],
	 [55]],
	# path 22
	[[75, 70, 65, 64, 61, 61],
	 [57, 56, 57, 58, 61, 60]],
	# path 23
	[[68, 66],
	 [58, 58]],
	# path 24
	[[164, 165, 162, 161, 160, 157, 158, 159, 159, 160, 162, 161, 157, 157, 154],
	 [79, 84, 93, 94, 97, 96, 93, 92, 90, 89, 78, 70, 62, 60, 57]],
	# path 25
	[[163, 162, 163],
	 [66, 66, 65]],
	# path 26
	[[165, 164, 163],
	 [72, 68, 67]],
	# path 27
	[[165, 165],
	 [74, 73]],
	# path 28
	[[166, 165],
	 [78, 75]],
	# path 29
	[[166],
	 [79]],
	# path 30
	[[140, 138, 135, 134, 133, 123, 122, 120, 116, 112, 104, 96, 95, 92, 90, 86, 82, 80, 78, 77, 80, 84, 86, 86, 87],
	 [101, 101, 89, 88, 85, 75, 71, 69, 65, 62, 60, 60, 59, 59, 61, 65, 70, 73, 79, 87, 89, 90, 93, 95, 94]],
	# path 31
	[[91, 91, 89, 87, 86, 85, 84, 83, 82, 81, 80, 78, 79, 84, 86, 87, 88, 88, 87],
	 [149, 147, 145, 140, 139, 136, 135, 131, 130, 127, 126, 113, 108, 107, 105, 102, 101, 96, 97]],
	# path 32
	[[90],
	 [148]],
	# path 33
	[[74, 74, 72, 70, 69, 69, 68, 67, 66, 61, 59, 61, 66, 67, 69, 70, 73, 74, 77, 78, 83],
	 [121, 119, 117, 114, 109, 101, 96, 88, 85, 83, 74, 72, 70, 69, 69, 68, 67, 66, 65, 64, 62]],
	# path 34
	[[92, 92, 93],
	 [73, 67, 64]],
	# path 35
	[[94, 93],
	 [73, 70]],
	# path 36
	[[100, 101, 99],
	 [65, 66, 71]],
	# path 37
	[[108, 108],
	 [65, 66]],
	# path 38
	[[111],
	 [67]],
	# path 39
	[[109, 108],
	 [68, 69]],
	# path 40
	[[96],
	 [70]],
	# path 41
	[[101, 101],
	 [81, 72]],
	# path 42
	[[21, 25, 28, 29, 28],
	 [79, 83, 97, 100, 101]],
	# path 43
	[[31, 30],
	 [103, 101]],
	# path 44
	[[27],
	 [87]],
	# path 45
	[[175, 173, 173],
	 [89, 87, 80]],
	# path 46
	[[166, 167, 168, 169, 170, 171, 173, 173],
	 [108, 107, 102, 101, 97, 96, 90, 89]],
	# path 47
	[[96, 107, 108, 103, 98, 90, 87, 85, 87, 88, 93, 94, 95, 94, 91, 88, 85, 87, 89, 91, 92, 92, 94, 98, 101, 103, 104, 116, 117, 120],
	 [128, 129, 131, 133, 132, 132, 133, 130, 130, 129, 128, 127, 126, 123, 123, 120, 117, 115, 109, 102, 101, 95, 90, 86, 84, 84, 83, 82, 83, 84]],
	# path 48
	[[95],
	 [124]],
	# path 49
	[[118],
	 [84]],
	# path 50
	[[21, 24, 28],
	 [83, 102, 104]],
	# path 51
	[[168, 167, 166, 166, 164, 163, 162, 161, 160, 157, 156, 154, 151, 148, 146, 146, 149, 152, 155, 158, 157],
	 [84, 90, 91, 93, 95, 98, 99, 102, 103, 108, 112, 114, 117, 120, 136, 141, 153, 164, 170, 173, 173]],
	# path 52
	[[102, 105, 106, 108, 109, 115, 122, 121, 122],
	 [89, 88, 87, 87, 86, 85, 87, 86, 85]],
	# path 53
	[[89, 88],
	 [87, 87]],
	# path 54
	[[170, 169, 164, 163, 164, 165, 165, 163, 162, 160, 158, 153, 150],
	 [87, 93, 103, 107, 108, 113, 119, 125, 130, 133, 135, 139, 140]],
	# path 55
	[[101, 101, 108, 114, 118, 119, 119, 120],
	 [96, 94, 90, 91, 95, 96, 97, 96]],
	# path 56
	[[85, 82, 77, 76, 79, 80],
	 [97, 98, 96, 92, 92, 94]],
	# path 57
	[[97, 101, 102, 105, 107, 108, 110, 112, 117, 120],
	 [102, 105, 101, 99, 99, 100, 98, 96, 100, 99]],
	# path 58
	[[98],
	 [104]],
	# path 59
	[[155, 154],
	 [103, 96]],
	# path 60
	[[101, 101],
	 [98, 100]],
	# path 61
	[[151, 152, 151],
	 [102, 101, 99]],
	# path 62
	[[137],
	 [102]],
	# path 63
	[[38, 33, 30, 31, 34, 36, 36, 37, 37, 36, 35],
	 [103, 104, 107, 110, 113, 116, 118, 119, 123, 124, 125]],
	# path 64
	[[29],
	 [107]],
	# path 65
	[[83],
	 [103]],
	# path 66
	[[108, 115],
	 [104, 104]],
	# path 67
	[[149, 148, 148, 145, 150, 153, 153, 150],
	 [104, 105, 107, 110, 111, 108, 105, 104]],
	# path 68
	[[104],
	 [106]],
	# path 69
	[[121, 116, 115, 115],
	 [106, 109, 108, 107]],
	# path 70
	[[107, 110, 111, 112, 113, 115],
	 [117, 117, 116, 115, 111, 110]],
	# path 71
	[[97, 100, 103, 103, 102, 102, 100, 99, 96, 96],
	 [123, 122, 118, 115, 114, 112, 112, 111, 110, 109]],
	# path 72
	[[104],
	 [116]],
	# path 73
	[[101],
	 [113]],
	# path 74
	[[92, 96, 97, 99, 99, 94],
	 [116, 117, 118, 118, 115, 113]],
	# path 75
	[[100, 100],
	 [116, 117]],
	# path 76
	[[147, 145, 146],
	 [114, 118, 119]],
	# path 77
	[[83, 83],
	 [119, 120]],
	# path 78
	[[86, 85],
	 [122, 125]],
	# path 79
	[[90, 90],
	 [124, 125]],
	# path 80
	[[51, 49, 44, 43, 42, 40, 37, 36, 35, 34, 32, 26, 23, 22, 20, 21, 20],
	 [182, 183, 178, 172, 168, 166, 156, 155, 152, 151, 146, 141, 139, 138, 134, 129, 130]],
	# path 81
	[[23],
	 [138]],
	# path 82
	[[86],
	 [134]],
	# path 83
	[[92, 93, 96, 96, 90, 89, 94, 95],
	 [146, 145, 141, 139, 139, 136, 135, 134]],
	# path 84
	[[90, 90],
	 [141, 140]],
	# path 85
	[[20],
	 [138]],
	# path 86
	[[89, 88, 86, 84, 82, 81, 80, 78, 77, 72, 67, 58, 54, 55, 56, 57, 60, 61, 62, 65, 68, 76, 77, 81, 85],
	 [172, 173, 173, 175, 177, 180, 181, 184, 187, 188, 183, 180, 180, 175, 172, 171, 156, 155, 152, 149, 146, 145, 144, 145, 144]],
	# path 87
	[[68],
	 [145]],
	# path 88
	[[85, 84, 83],
	 [146, 149, 152]],
	# path 89
	[[88, 86, 86],
	 [150, 150, 149]],
	# path 90
	[[108, 104],
	 [147, 147]],
	# path 91
	[[74, 75],
	 [148, 148]],
	# path 92
	[[105, 105, 104],
	 [171, 156, 151]],
	# path 93
	[[96, 101, 103],
	 [148, 151, 152]],
	# path 94
	[[118, 119, 117, 116, 109, 109],
	 [151, 149, 149, 148, 148, 150]],
	# path 95
	[[110],
	 [149]],
	# path 96
	[[124, 123, 114, 113, 111, 109, 108],
	 [162, 161, 162, 159, 157, 154, 152]],
	# path 97
	[[46, 47, 45, 44, 42, 40, 41, 42, 43, 44, 44],
	 [166, 165, 156, 155, 153, 155, 159, 160, 163, 164, 165]],
	# path 98
	[[91, 94, 95, 95, 94],
	 [174, 171, 170, 157, 154]],
	# path 99
	[[59, 60, 62, 63, 65, 64],
	 [177, 176, 169, 168, 156, 155]],
	# path 100
	[[64],
	 [167]],
	# path 101
	[[64],
	 [157]],
	# path 102
	[[78, 77, 76, 72, 69],
	 [156, 162, 163, 168, 171]],
	# path 103
	[[127, 122, 120, 120, 119, 119, 118, 122, 123, 121, 122],
	 [190, 190, 191, 189, 188, 186, 185, 176, 168, 166, 166]],
	# path 104
	[[149, 152, 151, 154, 155, 154],
	 [167, 172, 173, 176, 177, 177]],
	# path 105
	[[156],
	 [177]],
	# path 106
	[[109, 110, 112, 113, 115, 116, 117, 118, 118, 119],
	 [192, 189, 187, 183, 181, 178, 177, 172, 168, 168]],
	# path 107
	[[103, 103, 102, 102, 101, 101, 99, 98, 106, 120, 123, 124, 134, 135, 137, 138, 150, 155, 161, 162, 165, 166, 168, 167],
	 [171, 173, 174, 180, 181, 183, 185, 193, 195, 196, 195, 194, 192, 191, 191, 190, 189, 188, 187, 186, 186, 185, 185, 186]],
	# path 108
	[[176, 174, 169],
	 [190, 188, 186]],
	# path 109
	[[106, 106],
	 [177, 173]],
	# path 110
	[[159, 159, 161, 163, 164, 166, 167, 166],
	 [175, 177, 177, 179, 180, 182, 182, 183]],
	# path 111
	[[121, 127, 128, 129, 129, 130],
	 [186, 180, 179, 178, 177, 178]],
	# path 112
	[[128],
	 [178]],
	# path 113
	[[152, 153],
	 [178, 178]],
	# path 114
	[[130, 131, 132],
	 [187, 180, 179]],
	# path 115
	[[152, 147, 146, 142],
	 [180, 180, 181, 181]],
	# path 116
	[[134, 137, 141],
	 [186, 183, 183]],
	# path 117
	[[159, 161],
	 [183, 183]],
	# path 118
	[[151, 157],
	 [184, 184]],
	# path 119
	[[55, 51, 47, 46, 36, 35, 33, 31],
	 [185, 188, 189, 190, 200, 203, 205, 210]],
	# path 120
	[[41],
	 [193]],
	# path 121
	[[131, 129],
	 [189, 189]],
	# path 122
	[[163, 168, 169, 172, 173],
	 [189, 189, 190, 191, 192]],
	# path 123
	[[164, 153, 152, 150, 149, 145],
	 [192, 193, 192, 192, 193, 194]],
	# path 124
	[[158, 162],
	 [190, 191]],
	# path 125
	[[151],
	 [193]],
	# path 126
	[[156, 154],
	 [191, 191]],
	# path 127
	[[57, 55, 54, 48, 41, 40, 39, 37, 34, 33],
	 [193, 193, 192, 193, 200, 203, 204, 207, 211, 213]],
	# path 128
	[[54, 53],
	 [194, 195]],
	# path 129
	[[36, 38, 39, 42, 45, 46, 46, 45],
	 [211, 211, 210, 208, 207, 202, 199, 198]],
	# path 130
	[[49, 49, 47],
	 [195, 197, 199]],
	# path 131
	[[43, 45],
	 [202, 202]],
	# path 132
	[[142, 141, 135],
	 [196, 197, 200]],
	# path 133
	[[127, 128, 129, 130, 137, 146, 147, 147, 143],
	 [209, 206, 205, 204, 203, 200, 199, 197, 197]],
	# path 134
	[[149, 148],
	 [196, 197]],
	# path 135
	[[157, 150, 150],
	 [196, 197, 198]],
	# path 136
	[[97, 98, 101, 106, 108],
	 [197, 200, 201, 200, 200]],
	# path 137
	[[126, 121, 118, 112, 111, 108, 107, 105, 104, 102, 101, 96, 90, 87, 84, 83, 80, 79, 76, 74, 71, 70, 69],
	 [205, 208, 210, 211, 212, 213, 214, 214, 215, 215, 216, 217, 218, 221, 222, 223, 224, 225, 226, 228, 229, 232, 231]],
	# path 138
	[[103],
	 [216]],
	# path 139
	[[91],
	 [219]],
	# path 140
	[[48, 49],
	 [207, 207]],
	# path 141
	[[28, 30, 31, 32, 33, 42, 42, 43],
	 [232, 227, 226, 223, 222, 212, 211, 212]],
	# path 142
	[[31, 30],
	 [231, 231]],
	# path 143
	[[104, 103, 102],
	 [218, 219, 219]],
	# path 144
	[[123, 124, 123, 123, 119, 113, 105],
	 [212, 216, 217, 220, 221, 219, 219]],
	# path 145
	[[36, 30, 29, 28, 27, 26, 23, 22, 20, 18, 16, 17],
	 [214, 220, 223, 224, 227, 228, 236, 239, 241, 248, 253, 257]],
	# path 146
	[[18],
	 [255]],
	# path 147
	[[91, 98, 99, 102, 103, 104, 109, 111],
	 [222, 222, 223, 223, 224, 223, 224, 224]],
	# path 148
	[[50, 41, 40, 38, 36, 30, 25, 24],
	 [226, 227, 228, 228, 230, 235, 240, 242]],
	# path 149
	[[47, 46],
	 [226, 226]],
	# path 150
	[[102, 95, 93, 88, 84, 84],
	 [229, 226, 228, 229, 230, 231]],
	# path 151
	[[91, 92],
	 [229, 229]],
	# path 152
	[[72, 75, 81, 82],
	 [233, 234, 230, 230]],
	# path 153
	[[77, 76, 73, 70, 66, 64, 62, 58, 54, 51, 49, 46, 47],
	 [241, 240, 239, 236, 233, 233, 235, 238, 241, 242, 244, 244, 243]],
	# path 154
	[[48, 47, 41],
	 [235, 234, 236]],
	# path 155
	[[38, 37, 36, 38, 39, 40, 43, 46, 47, 50],
	 [260, 254, 252, 246, 245, 242, 240, 239, 238, 236]],
	# path 156
	[[20, 21, 21, 23, 23, 24, 24, 27, 31],
	 [261, 260, 258, 256, 254, 253, 251, 248, 238]],
	# path 157
	[[26],
	 [242]],
	# path 158
	[[20, 20],
	 [250, 252]],
	# path 159
	[[15, 13, 10, 11, 12],
	 [258, 267, 270, 273, 273]],
	# path 160
	[[26, 22, 21, 19, 18, 16, 13, 14, 19, 21, 28, 29, 33, 36, 39, 42, 43, 44, 44],
	 [268, 269, 270, 270, 271, 271, 275, 279, 282, 284, 288, 289, 292, 294, 296, 297, 298, 299, 300]],
	# path 161
	[[23],
	 [270]],
]

import argparse, json, importlib.util, sys
from typing import List, Sequence
import matplotlib.pyplot as plt

# ---- Walidacja i rysowanie -------------------------------------------------
def _as_list(seq) -> list:
    return list(seq) if not isinstance(seq, list) else seq

def validate_paths(PATHS) -> List[List[Sequence[float]]]:
    if not isinstance(PATHS, (list, tuple)):
        raise ValueError("PATHS musi być listą.")
    out = []
    for i, item in enumerate(PATHS, 1):
        if (not isinstance(item, (list, tuple))) or len(item) != 2:
            raise ValueError(f"Element {i} nie ma postaci [x, y].")
        x, y = _as_list(item[0]), _as_list(item[1])
        if len(x) != len(y):
            raise ValueError(f"Długości x i y w ścieżce {i} się różnią: {len(x)} != {len(y)}.")
        out.append([x, y])
    return out

def plot_paths(PATHS, color="#1f77b4", linewidth=2.0, alpha=1.0, show=True, save=None):
    """
    Rysuje wszystkie ścieżki tym samym kolorem.
    color – np. '#1f77b4' lub 'black'
    """
    paths = validate_paths(PATHS)
    fig, ax = plt.subplots()  # jedna oś, bez subplotów
    for x, y in paths:
        ax.plot(x, y, color=color, linewidth=linewidth, alpha=alpha)
    ax.set_xlabel("x")
    ax.set_ylabel("y")
    ax.grid(True, linestyle=":", linewidth=0.6, alpha=0.6)
    if save:
        fig.savefig(save, dpi=160, bbox_inches="tight")
    if show:
        plt.gca().invert_yaxis()
        plt.axis('equal')
        plt.show()
    plt.close(fig)

# ---- Ładowanie danych ------------------------------------------------------
def load_from_py(py_path: str):
    spec = importlib.util.spec_from_file_location("paths_mod", py_path)
    mod = importlib.util.module_from_spec(spec)
    spec.loader.exec_module(mod)  # type: ignore
    if not hasattr(mod, "PATHS"):
        raise ValueError("Plik .py nie zawiera zmiennej PATHS.")
    return mod.PATHS

def load_from_json(json_path: str):
    with open(json_path, "r", encoding="utf-8") as f:
        obj = json.load(f)
    if isinstance(obj, dict) and "PATHS" in obj:
        return obj["PATHS"]
    return obj  # dopuszczamy, że w pliku jest bezpośrednio lista PATHS

# ---- CLI -------------------------------------------------------------------
def main():
    p = argparse.ArgumentParser(description="Rysowanie wielu wykresów tym samym kolorem z PATHS=[[x,y], ...]")
    p.add_argument("--color", default="#1f77b4", help="Kolor wszystkich wykresów (np. '#000', 'black').")
    p.add_argument("--lw", type=float, default=2.0, help="Szerokość linii.")
    p.add_argument("--alpha", type=float, default=1.0, help="Przezroczystość linii (0..1).")
    p.add_argument("--save", default=None, help="Zapisz do pliku (np. 'wykres.png').")
    p.add_argument("--no-show", action="store_true", help="Nie pokazuj okna (tylko zapis).")
    args = p.parse_args()

    plot_paths(PATHS, color=args.color, linewidth=args.lw, alpha=args.alpha,
               show=not args.no_show, save=args.save)

if __name__ == "__main__":
    main()
